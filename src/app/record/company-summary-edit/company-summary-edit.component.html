<div>
  <form #companySummaryForm="ngForm">
    <div class="modal-header">
      <label class="modal-title">{{companySummaryEditTitle}}</label>
      <button aria-label="Close" class="close" type="button" (click)="close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="row row-margin-bottom">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">检查日期：</label>
          <div class="input-group col-md-8">
            <input type="hidden" [(ngModel)]="companySummary.id" name="id">
            <input class="form-control" ngbDatepicker #d="ngbDatepicker" id="inspectionDate" [(ngModel)]="companySummary.inspectionDatepicker"
                   name="inspectionDate" [ngClass]="{'warn': !inspectionDatepicker.valid}" #inspectionDatepicker="ngModel" required="required">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                <img src="assets/img/calendar-icon.png"/>
              </button>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">单位：</label>
          <select class="form-control col-md-7" [(ngModel)]="companySummary.companyId" name="companyId"
                  [ngClass]="{'warn': !companyId.valid}" #companyId="ngModel" required="required">
            <option value=""></option>
            <option *ngFor="let item of companyList;" value="{{item.id}}">{{item.companyName}}</option>
          </select>
        </div>
      </div>
      <div class="row row-margin-bottom">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">检查机构：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.inspectionAgency"
                 name="inspectionAgency" [ngClass]="{'warn': !inspectionAgency.valid}" maxlength="50"
                 #inspectionAgency="ngModel" required="required">
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">体检种类：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.physicalExaminationType" name="physicalExaminationType"
                 [ngClass]="{'warn': !physicalExaminationType.valid}" maxlength="10"
                 #physicalExaminationType="ngModel" required="required">
        </div>
      </div>
      <div class="row row-margin-bottom">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">应检人数：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.inspectedNumber"
                 name="inspectedNumber" [ngClass]="{'warn': !inspectedNumber.valid}" maxlength="20"
                 #inspectedNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">实检人数：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.actualInspectdNumber"
                 name="actualInspectdNumber" [ngClass]="{'warn': !actualInspectdNumber.valid}" maxlength="20"
                 #actualInspectdNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
      </div>
      <div class="row row-margin-bottom">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">未见异常：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.noAbnormality"
                 name="noAbnormality" [ngClass]="{'warn': !noAbnormality.valid}" maxlength="20"
                 #noAbnormality="ngModel" required="required" pattern="^[0-9]+$">
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">复查：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.reviewNumber"
                 name="reviewNumber" [ngClass]="{'warn': !reviewNumber.valid}" maxlength="20"
                 #reviewNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
      </div>
      <div class="row row-margin-bottom">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">疑似：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.doubtfulNumber"
                 name="doubtfulNumber" [ngClass]="{'warn': !doubtfulNumber.valid}" maxlength="20"
                 #doubtfulNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">禁忌证：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.tabooNumber"
                 name="tabooNumber" [ngClass]="{'warn': !tabooNumber.valid}" maxlength="20"
                 #tabooNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">其他疾患：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.otherDiseasesNumber"
                 name="otherDiseasesNumber" [ngClass]="{'warn': !otherDiseasesNumber.valid}" maxlength="20"
                  #otherDiseasesNumber="ngModel" required="required" pattern="^[0-9]+$">
        </div>
        <div class="col-md-6">
          <label class="col-md-4 col-form-label text-right float-left">备注信息：</label>
          <input type="text" class="form-control col-md-8" [(ngModel)]="companySummary.remarks" name="remarks" maxlength="50">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="op-btn">
        <button type="button" class="btn btn-success button-margin-right" [disabled]="!companySummaryForm.form.valid" (click)="submitData()" >确&nbsp;&nbsp;定</button>
        <button type="button" class="btn btn-outline-success" (click)="close()">取&nbsp;&nbsp;消</button>
      </div>
    </div>
  </form>
</div>
